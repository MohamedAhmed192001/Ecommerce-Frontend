<div class="container-fluid min-vh-100 d-flex align-items-center justify-content-center bg-light px-3 px-md-5">
  <div class="row w-100 shadow-lg rounded-4 overflow-hidden bg-white" style="max-width: 960px;">

    <!-- Left Side: Registration Form -->
    <div class="col-md-6 p-5" *ngIf="!otpSent">
      <h3 class="text-center text-primary mb-4 fw-bold">Create Your Smart Supply Account</h3>

      <form [formGroup]="registerForm" (ngSubmit)="sendOtp()">
        <!-- First Name -->
        <div class="mb-3">
          <label class="form-label">First Name</label>
          <input type="text"
                 class="form-control"
                 formControlName="firstName"
                 placeholder="e.g. Mohamed"
                 [ngClass]="{ 'is-invalid': registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched }" />
          <div class="invalid-feedback">First name is required.</div>
        </div>

        <!-- Last Name -->
        <div class="mb-3">
          <label class="form-label">Last Name</label>
          <input type="text"
                 class="form-control"
                 formControlName="lastName"
                 placeholder="e.g. Ahmed"
                 [ngClass]="{ 'is-invalid': registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched }" />
          <div class="invalid-feedback">Last name is required.</div>
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label class="form-label">Email</label>
          <input type="email"
                 class="form-control"
                 formControlName="email"
                 placeholder="e.g. mohamed123@gmail.com"
                 [ngClass]="{ 'is-invalid': registerForm.get('email')?.invalid && registerForm.get('email')?.touched }" />
          <div class="invalid-feedback">Valid email is required.</div>
          <small class="text-muted">We'll send a verification code to this email.</small>
        </div>

        <!-- Address -->
        <div class="mb-3">
          <label class="form-label">Store Address</label>
          <input type="text"
                 class="form-control"
                 formControlName="address"
                 placeholder="e.g. 25 Market St, Giza"
                 [ngClass]="{ 'is-invalid': registerForm.get('address')?.invalid && registerForm.get('address')?.touched }" />
          <div class="invalid-feedback">Address is required.</div>
        </div>

        <!-- Password -->
        <div class="mb-4">
          <label class="form-label">Password</label>
          <input type="password"
                 class="form-control"
                 formControlName="password"
                 placeholder="Enter a strong password"
                 [ngClass]="{ 'is-invalid': registerForm.get('password')?.invalid && registerForm.get('password')?.touched }" />
          <div class="invalid-feedback">Password must be at least 6 characters.</div>
        </div>

        <!-- Submit -->
        <button type="submit"
                class="btn btn-primary w-100 rounded-pill"
                [disabled]="registerForm.invalid">
          ðŸ“² Send Verification Code
        </button>
      </form>

      <!-- Link to Login -->
      <div class="text-center mt-3">
        <a routerLink="/login" class="small text-decoration-none">Already have an account? Login</a>
      </div>
    </div>

    <!-- Right Side: Info Panel -->
    <div class="col-md-6 d-none d-md-flex flex-column justify-content-center align-items-center text-white bg-primary p-5 text-center">
      <h4 class="fw-bold mb-3">Welcome to Smart Supply</h4>
      <p class="mb-4">
        Streamline orders from supermarkets to factories.<br />
        Get verified and start placing your orders today.
      </p>
      <img src="assets/images/register-info.svg"
           alt="Register Illustration"
           class="img-fluid"
           style="max-height: 200px;" />
    </div>

    <!-- OTP Verification Section -->
    <app-verify-otp *ngIf="otpSent"
                    [email]="emailForOtp"
                    [pendingUserData]="pendingUserData"
                    class="p-4">
    </app-verify-otp>
  </div>
</div>
