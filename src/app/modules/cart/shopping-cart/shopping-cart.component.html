<div class="container mt-5">
  <h2 class="mb-4">üõí Your Shopping Cart</h2>

  <div *ngIf="cartItems.length === 0" class="alert alert-info">
    Your cart is empty.
  </div>

  <table *ngIf="cartItems.length > 0" class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>Product</th>
        <th>Price</th>
        <th>Qty</th>
        <th>Total</th>
        <th>Remove</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cartItems">
        <td>
          <img [src]="baseUrl + item.product.imagePath"
               alt="{{ item.product.name }}"
               width="60" class="img-thumbnail me-2">
          {{ item.product.name }}
        </td>
        <td>{{ item.product.price | currency }}</td>
        <td>
          <div class="d-flex align-items-center">
            <button class="btn btn-sm btn-outline-secondary" (click)="decreaseQty(item)">-</button>
            <span class="mx-2">{{ item.quantity }}</span>
            <button class="btn btn-sm btn-outline-secondary" (click)="increaseQty(item)">+</button>
          </div>
        </td>
        <td>{{ item.product.price * item.quantity | currency }}</td>
        <td>
          <button class="btn btn-danger btn-sm" (click)="removeItem(item.product.id)">
            üóëÔ∏è
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="text-end mt-3" *ngIf="cartItems.length > 0">
    <h4>Total: {{ total | currency }}</h4>
    <button class="btn btn-outline-danger mt-2" (click)="clearCart()">Clear Cart</button>
  </div>

  <div class="card mt-4 p-3 bg-light mb-4" *ngIf="cartItems.length > 0">
    <h5>Summary</h5>
    <p>Items: {{ cartItems.length }}</p>
    <p>Subtotal: {{ total | currency }}</p>
    <p>Shipping: Free</p>
    <hr />
    <h5>Total: {{ total | currency }}</h5>

    <div class="text-end">
      <button class="btn btn-success" type="submit" [routerLink] ="['/payment/']">
        üßæ Add Additional Details
      </button>
    </div>

  </div>

</div>
